# SerialDate 리팩터링

`JCommon` 라이브러리 내 `org.jfree.date` 패키지에 존재하는 `SerialDate` 클래스 탐험

SerialDate 는 날짜를 표현하는 자바 클래스

## 첫째, 둘러보자

SerialDateTests 라는 클래스는 단위 테스트 케이스 몇 개를 포함하며 실패하는 테스트 케이스는 없다.

하지만 테스트 케이스 경우 모든 경우를 점검하지 않는다.

그래서 185개의 문장 중 91개의 문장만 단위 테스트를 실행하므로 50%만 진행되었다.

→ 테스트 코드를 거치지 않으면 클린 코드에 들어갈 수 없으므로 단위 테스트의 중요성을 한번 더 느껴졌다.
    사실 테스트 코드를 작성하는 것과 친하지 않기에 더 필요성을 느꼈다.

## 둘째, 고쳐보자

클래스 이름이 `SerialDate` 인 이유는 ‘일련번호’를 사용해 클래스를 구현했기 때문이다.

필자는 2가지가 꺼림칙하다고 느꼈다.

첫째, ‘일련번호’라는 용어는 정확하지 못하다.
’일련번호’라는 용어는 날짜보다 제품 식별 번호로 더 저갑하므로 서술적인 이름이 아니라고 생각했다고 한다.
좀 더 서술적인 용어로는 ‘서수(Ordinal)’ 추천했다.

둘째, `SerialDate` 라는 이름은 구현을 암시하는데 실상은 추상 클래스다.

구현은 암시할 필요가 없고 숨기는 편이 좋다고 생각하여 `SerialDate` 라는 이름의 추상화 수준이 올바르지 않다고 생각하여 Date 를 추천했다.

하지만 자바에는 `Date` 가 많으므로 최적이라고 보지는 않았으며, `SerialDate` 는 시간이 아니라 날짜를 다루므로 `Day` 라는 이름까지 고려했다고 했다.

`Day` 도 마찬가지로 자바에 많이 있으므로 `DayDate` 로 추천했다.

→ 변수명과 함수명, 클래스명도 최대한 알맞은 이름으로 짓는게 중요하다.
    이번 프로젝트를 하면서 애매한 명들을 바꾼 경험이 있는데, 확실히 어떤 역할을 하는지 파악하기 쉬웠고 다시 내 코드를 봤을 때도 혼동이 오지 않았다.

## 결론

보이스카우트 규칙을 따라 코드를 개선했다.

결과적으로 필자의 수정으로 인해 테스트 커버리지가 증가했으며, 버그 몇 개를 고쳤고, 코드 크기가 줄었고, 더 명확해졌다.

이로 인해 `SerialDate` 를 보는 다음 사람은 필자보다 코드를 좀 더 쉽게 이해할 수 있다.
