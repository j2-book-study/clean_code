# 창발성

- 하위 계층이나 구성 요소에는 없는 특성이나 행동이 상위 계층이나 전체 구ㅜ조에서 자발적으로 나타나는 현상

## 창발적 설계로 깔끔한 코드를 구현하자

- 다음 규칙을 따르면 설계는 ‘단순하다’라고 말한다.
    - 모든 테스트를 실행한다.
    - 중복을 없앤다.
    - 프로그래머 의도를 표현한다.
    - 클래스와 메서드 수를 최소로 줄인다.

## 1: 모든 테스트를 실행하라

- 설계는 의도한 대로 돌아가는 시스템을 내놓아야 한다.
- 모든 테스트 케이스를 항상 통과하는 시스템은 ‘테스트가 가능한 시스템’이다.
- 이 때 크기가 작고 목적 하나만 수행하는 클래스가 나오는데, SRP를 준수하면 테스트가 훨씬 쉽다.
- 결합도가 높으면 테스트 케이스를 작성하기 어렵다.
    - DIP, DI, 인터페이스, 추상화 등과 같은 도구를 사용해 결합도를 낮출 수 있다.

## 2 ~ 4: 리팩터링

- 테스트 케이스를 기준으로 코드를 정리한다.

### 중복을 없애라.

- 깔끔한 시스템을 만들려면 단 몇 줄이라도 중복을 제거하겠다는 의지가 필요하다.
    1. 중복되는 로직을 메서드로 추출
    2. 추출된 메서드로 인해 클래스가 SRP를 위반
    3. 해당 메서드를 다른 클래스로 추출
- 이러한 과정을 통한 ‘소규모 재사용’은 시스템 복잡도를 줄여줄 수 있다.

- Template method 패턴
    - 부모 클래스에서 알고리즘의 골격을 정의하지만, 해당 알고리즘의 구조를 변경하지 않고 자식 클래스들이 알고리즘의 특정 단계들을 재정의할 수 있도록 하는 행동 디자인 패턴이다.
    - 이를 통해 하위 클래스는 중복되지 않는 정보만 제공하면서 중복을 없앨 수 있다.

### 표현하라

- 유지보수하는 시점에서 시스템을 이해하느라 보내는 시간이 늘어나고 동시에 코드를 오해할 가능성도 커질 수 있으므로 코드는 개발자의 의도를 분명히 표현해야 한다.
    1. 좋은 이름을 선택한다.
    2. 함수와 클래스 크기를 가능한 줄인다.
    3. 표준 명칭을 사용한다.
    4. 단위 테스트 케이스를 꼼꼼히 작성한다.
- **자신의 작품에 조금만 더 주의를 기울이자.**

### 클래스와 메서드 수를 최소로 줄여라

- 클래스와 메서드 크기를 줄이자고 조그만 클래스와 메서드가 너무 많이 만들어질 수 있다.
- 목표는 함수와 클래스 크기를 작게 유지하면서 동시에 시스템 크기도 작게 유지하는 데 있다.
- 하지만 다른 설계 규칙 중 우선순위가 가장 낮다.

## 결론

- 단순한 설계 규칙을 따른다면 경험을 통해 얻을 수 있는 기법과 원칙들을 단번에 활용할 수 있다!